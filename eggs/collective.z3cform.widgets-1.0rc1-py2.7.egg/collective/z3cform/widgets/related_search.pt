<i18n:domain i18n:domain="collective.z3cform.widgets">
<tal:master define="level options/level|python:0; children options/children | nothing; offset options/offset | nothing;">
    <tal:navitem repeat="node children">
        <li tal:define="show_children       node/show_children;
                        uid                 node/UID;
                        children            python: [];
                        item_url            node/getURL;
                        item_token          python:view.getTermByBrain(node['item']).token;
                        item_icon           node/item_icon;
                        selectable          node/selectable;
                        li_folder_class     python:show_children and ' navTreeFolderish' or '';
                        li_selectable_class python:selectable and ' selectable' or '';
                        li_collapsed_class  python:(len(children) > 0 and show_children) and '  expanded' or ' collapsed';
                        li_class            string:${li_folder_class}${li_selectable_class}${li_collapsed_class}"
            tal:attributes="class string:navTreeItem visualNoMarker${li_class};
            uid uid">
            <tal:level define="item_class string:contenttype-${node/normalized_portal_type} state-${node/normalized_review_state}">
              <tal:block define="item_class item_class">
                <a tal:attributes="href item_token; rel level;
                                   title node/Description;
                                   class string:$item_class">
                    <img tal:replace="structure item_icon/html_tag|item_icon" />
                    <span tal:content="node/Title" i18n:translate="">Selected Item Title</span>
                </a>
              </tal:block>
              <ul tal:attributes="class python:'navTree navTreeLevel'+str(level)"
                  tal:condition="python: len(children) > 0 and show_children">
                  <span tal:replace="structure python:view.recurse_template(children=children, level=level+1)" />
              </ul>
            </tal:level>
        </li>
    </tal:navitem>
    <li class="show_more" id="show-more-items-results" tal:attributes="data-offset offset" tal:condition="python:offset and view.show_more">
        <a i18n:translate="">
           Show More
        </a>
    </li>
    <li tal:condition="python: not children and offset != None" i18n:translate="">No Results</li>
</tal:master>
</i18n:domain>
